<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Bluespec Compiler (BSC) Release Notes</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;-webkit-tap-highlight-color:transparent}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1>Bluespec Compiler (BSC) Release Notes</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_2024_07_release">2024.07 Release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Changes since release 2024.01:</p>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Fix the type of <code>continuousAssert</code> in the Libraries Reference Guide
(GitHub PR#686)</p>
</li>
<li>
<p>Minor typo fix in the BH Reference Guide (GitHub PR#708)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_compiler">Compiler</h3>
<div class="ulist">
<ul>
<li>
<p>Update source code to compile with GHC 9.10.1 (GitHub PR#705)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_libraries">Libraries</h3>
<div class="ulist">
<ul>
<li>
<p>Add BuildList library, analogous to BuildVector (GitHub PR#723)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_bluetcl">Bluetcl</h3>
<div class="ulist">
<ul>
<li>
<p>Resolve a potential compilation warning by removing the use of
K&amp;R C syntax that is deprecated in newer C standards
(GitHub PR#703)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_bluesim">Bluesim</h3>
<div class="ulist">
<ul>
<li>
<p>Add braces to some if-statements in generated C&#43;&#43; modules to avoid
dangling-else warnings (GitHub Issue#442, PR#691)</p>
</li>
<li>
<p>Resolve a warning during compilation of the Bluesim kernel by fixing
a call to <code>bk_clock_name</code> in code that is unused except by
developers for debugging (GitHub Issue#698, PR#702)</p>
</li>
<li>
<p>Resolve a compilation error with newer C&#43;&#43; compilers by updating the
source code to not use a feature that is deprecated since the C++20
standard (GitHub Issue#698, PR#701)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_utilities">Utilities</h3>
<div class="ulist">
<ul>
<li>
<p>Update BSV mode for <code>emacs</code> to work with newer versions
(GitHub PR#697)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_general">General</h3>
<div class="ulist">
<ul>
<li>
<p>Clean up how the <code>tcllibs</code> flags are computed in <code>platform.sh</code>
(GitHub PR#703)</p>
<div class="ulist">
<ul>
<li>
<p>This adds the version number to the flag for macOS
(from <code>-ltcl</code> to <code>-ltcl8.5</code>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_test_suite">Test Suite</h3>
<div class="ulist">
<ul>
<li>
<p>Add support for querying the <code>MACHTYPE</code> so that tests can support
different behavior on, say, <code>arm64</code> vs <code>x86_64</code>
(GitHub Issue#688, PR#690)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_internal">Internal</h3>
<div class="ulist">
<ul>
<li>
<p>Releases now built with GHC 9.6.6 (previously 9.4.8)
(GitHub PR#705, PR#728)</p>
</li>
<li>
<p>Updates to GitHub CI (continuous integration)</p>
<div class="ulist">
<ul>
<li>
<p>Retire the CI for macOS 11 (GitHub PR#700)</p>
</li>
<li>
<p>Add CI for macOS 14 (GitHub PR#690)</p>
</li>
<li>
<p>Add CI for Ubuntu 24.04 (beta) (GitHub PR#700)</p>
</li>
<li>
<p>Expand the number of GHC versions that are tested besides
the version for releases&#8201;&#8212;&#8201;previously only a single "latest"
version was being tested (GitHub PR#705)</p>
<div class="ulist">
<ul>
<li>
<p>Continue testing with older GHC 9.4.8,
which GHCUP still labels as recommended</p>
</li>
<li>
<p>Continue testing with GHC 9.8 (updated to the latest 9.8.2)</p>
</li>
<li>
<p>Add testing with the new GHC 9.10.1</p>
</li>
</ul>
</div>
</li>
<li>
<p>Support leaving the <code>hls_version</code> field blank to indicate that
the HLS testing step should be skipped (PR#703)</p>
<div class="ulist">
<ul>
<li>
<p>This allows for testing newer GHC installations
that don&#8217;t yet have HLS support in GHCUP</p>
</li>
</ul>
</div>
</li>
<li>
<p>Ensure that <code>brew</code> and <code>apt-get</code> are updated before installing,
to avoid failures due to old GitHub runner images (GitHub PR#687)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2024_01_release">2024.01 Release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Changes since release 2023.07:</p>
</div>
<div class="sect2">
<h3 id="_documentation_2">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Updates to the READMEs</p>
<div class="ulist">
<ul>
<li>
<p>Add Gentoo to the list of OSes with BSC packages</p>
</li>
<li>
<p>Update the URL for Icarus Verilog</p>
</li>
<li>
<p>Additional links to documentation</p>
</li>
<li>
<p>Link to Repology search for Bluespec packages</p>
</li>
</ul>
</div>
</li>
<li>
<p>Document string types in the BH and BSV Reference Guides</p>
</li>
<li>
<p>Document the Generics feature and associated types and type class in
the Libraries Reference Guide</p>
</li>
<li>
<p>Minor cleanups and typo fixes in the BH and BSV Reference Guides and
Libraries Reference Guide</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_compiler_2">Compiler</h3>
<div class="ulist">
<ul>
<li>
<p>Fix a bug in scheduling inference for action methods with arguments,
when an argument is used to conditionally execute an SBR action and
inference doesn&#8217;t otherwise determine the method to conflict with
itself (GitHub issue #641)</p>
</li>
<li>
<p>Change the derived <code>Generic</code> instance for enums and tagged unions
to use a balanced binary tree</p>
<div class="ulist">
<ul>
<li>
<p>This significantly improves the speed and memory use of the
compiler on designs with large enums
(GitHub issue #334, discussion #414)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Remove the warning on uses of <code>Generic</code> that the feature is
experimental, now that the implementation has settled</p>
</li>
<li>
<p>Use UTF-8 instead of ISO-8859-1 for all text-like I/O (GitHub PR #601)</p>
<div class="ulist">
<ul>
<li>
<p>Source files can now include non-Latin characters!</p>
</li>
</ul>
</div>
</li>
<li>
<p>In BH, disallow <code>°</code> and <code>´</code> in identifiers and instead parse them as symbols
(GitHub PR #610)</p>
</li>
<li>
<p>In BH, support more clock and reset pragmas available to BSV
(GitHub issues #616, #224)</p>
<div class="ulist">
<ul>
<li>
<p>Specifically: <code>gate_input_clocks</code>, <code>clock_family</code>, <code>clock_prefix</code>,
<code>gate_prefix</code>, <code>reset_prefix</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>In BH, add missing features to the <code>properties</code> pragma (GitHub PR #626)</p>
</li>
<li>
<p>In BH. fix the parsing of <code>arg_names</code> interface pragma to allow uppercase
identifiers and disallow qualified names (GitHub issue #654)</p>
</li>
<li>
<p>Fix the typecheck of struct update/literal/pattern (GitHub issue #628)</p>
<div class="ulist">
<ul>
<li>
<p>This mostly fixes issues with qualified field names in BH,
but may improve position information in error messages for BSV</p>
</li>
</ul>
</div>
</li>
<li>
<p>Fix the BSV parsing of naked expressions in statement and
case-expression contexts (GitHub issue #646)</p>
</li>
<li>
<p>Fix a failure to satisfy provisos during typecheck (GitHub issue #678)</p>
</li>
<li>
<p>Update source code to compile with GHC 9.8</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_libraries_2">Libraries</h3>
<div class="ulist">
<ul>
<li>
<p>In BH, use the unicode ring operator (<code>∘</code>) for function composition
(GitHub PR #601)</p>
</li>
<li>
<p>Improve provisos in the <code>FixedPoint</code> package (GitHub PR #249)</p>
<div class="ulist">
<ul>
<li>
<p><code>FixedPoint</code> does not support an integer compoment with bit width
less than one and this is now enforced with provisos</p>
</li>
<li>
<p>The <code>epsilon</code> function also requires at least two bits in the
representation</p>
</li>
<li>
<p>Polymorphic uses of the <code>FixedPoint</code> type may need to add <code>Min</code>
provisos (see GitHub PR #634 for example updates in the testsuite)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Add a CShow generic instance for higher-rank fields</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_bluetcl_2">Bluetcl</h3>
<div class="ulist">
<ul>
<li>
<p>New <code>version ghc</code> subcommand for querying the version of GHC that
the BSC tools were compiled with</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_bluesim_2">Bluesim</h3>
<div class="ulist">
<ul>
<li>
<p>Fix the use of named sephamores, so that if Bluesim crashes before
unlinking a semaphore, it won&#8217;t cause a failure the next time Bluesim
runs with the same process ID and attempts to link the same name
(GitHub issue #611)</p>
</li>
<li>
<p>Resolve <code>-Wformat-truncation</code> warning from GCC (GitHub PR #649)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_test_suite_2">Test Suite</h3>
<div class="ulist">
<ul>
<li>
<p>When creating an archive of log files (<code>archive_logs.sh</code>),
include the C++ compiler output for SystemC tests</p>
<div class="ulist">
<ul>
<li>
<p>The GitHub CI uses this script to upload an artifact
when there is a failure</p>
</li>
</ul>
</div>
</li>
<li>
<p>The GHC version used to build the BSC tools is available in the test
infrastructure (as <code>$ghc_version</code>), for use when the expected
behavior of a test differs depending on the GHC version</p>
</li>
<li>
<p>Fix the value of <code>$bsc_version</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_internal_2">Internal</h3>
<div class="ulist">
<ul>
<li>
<p>Releases now built with GHC 9.4.8 (previously 9.2.8)</p>
</li>
<li>
<p>Updates to GitHub CI (continuous integration)</p>
<div class="ulist">
<ul>
<li>
<p>Reorganization to support building and testing with a variety
of GHC versions; for now, test with the version for release
and with the latest version (9.8.1)</p>
</li>
<li>
<p>Explicitly specify the Haskell Language Server (HLS) version to
use, that is known to support the specified GHC version</p>
</li>
<li>
<p>Turn off fast-fail, so that a failure for one OS version won&#8217;t
kill the processes testing other versions</p>
</li>
<li>
<p>Support macOS VMs that don&#8217;t have ghcup installed</p>
</li>
<li>
<p>Support macOS VMs where the SystemC library is compiled with
an unpredictable C++ standard</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2023_07_release">2023.07 Release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Changes since release 2023.01:</p>
</div>
<div class="sect2">
<h3 id="_documentation_3">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Fix the syntax for struct patterns in the BSV Reference Guide</p>
</li>
<li>
<p>Update the build instructions</p>
<div class="ulist">
<ul>
<li>
<p>Document the <code>STP_STUB</code> and <code>YICES_STUB</code> options</p>
</li>
<li>
<p>Clarify the options for testing</p>
</li>
</ul>
</div>
</li>
<li>
<p>Update the test suite README</p>
<div class="ulist">
<ul>
<li>
<p>Add sections explaining the testing infrastructure and how to
diagnose failures</p>
</li>
<li>
<p>Document how to provide additional options to BSC</p>
</li>
<li>
<p>Document how to specify the location and C++ options for SystemC</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_compiler_3">Compiler</h3>
<div class="ulist">
<ul>
<li>
<p>Improvements to VPI wrapper locations for designs with imported C
functions (import-BVI) that are compiled and linked for Verilog
(GitHub discussion #575, PR #576)</p>
<div class="ulist">
<ul>
<li>
<p>VPI wrappers are written to the same directory as the Verilog
files in all cases; previously, they would be written to the
current directory when the <code>-vdir</code> flag is not specified</p>
</li>
<li>
<p>BSC linking will look for VPI wrappers in the <code>-vsearch</code> path;
previously, BSC would look only in the <code>-vdir</code> directory if
specified or the current directory if not</p>
</li>
</ul>
</div>
</li>
<li>
<p>Fix the parsing of <code>for</code> loop control in the <code>Stmt</code> sublanguage,
to allow register assignment with array and field selection
(GitHub issue #586)</p>
</li>
<li>
<p>Source code cleanups</p>
<div class="ulist">
<ul>
<li>
<p>Update to compile with GHC 9.6</p>
</li>
<li>
<p>Resolve most incomplete pattern warnings, enabled in GHC 9.2
(GitHub issue 469)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_libraries_3">Libraries</h3>
<div class="ulist">
<ul>
<li>
<p>Lower the precedence of the <code>:=</code> operator in BH to match the
precedence of <code>$</code> (GitHub discussion #567)</p>
</li>
<li>
<p>Add a complex conjugate function (<code>cmplxConj</code>) to the <code>Complex</code>
package</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_verilog">Verilog</h3>
<div class="ulist">
<ul>
<li>
<p>Update the Verilator link script</p>
<div class="ulist">
<ul>
<li>
<p>Support version 5, which requires the <code>--no-timing</code> flag</p>
</li>
<li>
<p>Remove the work directory when done, since it is not reused</p>
</li>
</ul>
</div>
</li>
<li>
<p>Update the Icarus Verilog link script to not generate <code>sft</code> files
for newer versions (11+) as it is deprecated</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_bluesim_3">Bluesim</h3>
<div class="ulist">
<ul>
<li>
<p>Remove uses of <code>sprintf</code> and replace with the safer <code>snprintf</code> or
<code>asprintf</code>, to resolve warnings when building with some compilers
(such as on macOS 13)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_utilities_2">Utilities</h3>
<div class="ulist">
<ul>
<li>
<p>Improve indentation in the BSV mode for <code>vim</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_general_2">General</h3>
<div class="ulist">
<ul>
<li>
<p>Replace deprecated <code>egrep</code> with <code>grep -E</code> as recommended by the
POSIX standard, for greater portability</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_test_suite_3">Test Suite</h3>
<div class="ulist">
<ul>
<li>
<p>Update to pass with Icarus Verilog versions 12 and 13</p>
</li>
<li>
<p>Add an option for specifying C++ flags to use with SystemC
(<code>TEST_SYSTEMC_CXXFLAGS</code>)</p>
</li>
<li>
<p>Update to invoke the C++ compiler in the same way that BSC does</p>
<div class="ulist">
<ul>
<li>
<p>Use <code>c++</code> and not <code>g++</code></p>
</li>
<li>
<p>Use <code>CXXFLAGS</code> from the environment
(but not yet <code>BSC_CXXFLAGS</code> as BSC does)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Additional testing and small cleanups</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_internal_3">Internal</h3>
<div class="ulist">
<ul>
<li>
<p>Releases now built with GHC 9.2.8 (previously 9.0.2)</p>
</li>
<li>
<p>Updates to GitHub CI (continuous integration)</p>
<div class="ulist">
<ul>
<li>
<p>Retire the CI for Ubuntu 18.04 and macOS 10.15</p>
</li>
<li>
<p>Add CI for macOS 13</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2023_01_release">2023.01 Release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Changes since release 2022.01:</p>
</div>
<div class="sect2">
<h3 id="_documentation_4">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Addition of the BSV Language Reference Guide with updates</p>
</li>
<li>
<p>Addition of the BH (Bluespec Haskell/Classic) Reference Guide with
updates</p>
</li>
<li>
<p>Fixes in the Libraries Reference Guide, for the <code>Cntrs</code>, <code>Clocks</code>,
and <code>BRAMCore</code> libraries</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_compiler_4">Compiler</h3>
<div class="ulist">
<ul>
<li>
<p>Fix to the pretty-printing of BH syntax for <code>letrec</code> and <code>letseq</code></p>
</li>
<li>
<p>Removed use of <code>-fpermissive</code> when compiling C/C++ files, which
eliminates warnings when compiling with foreign imports</p>
</li>
<li>
<p>For macOS 12 (XCode 14) and later, disabled chained fixups in the
C++ compiler when generating shared objects, which resolves a
warning about chained fixups not working with dynamic lookup</p>
</li>
<li>
<p>Miscellaneous small optimizations</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_libraries_4">Libraries</h3>
<div class="ulist">
<ul>
<li>
<p>Fixes to the interface schedule for <code>mkSizedBypassFIFOF</code>
(in <code>SpecialFIFOs</code>)</p>
</li>
<li>
<p>Cleanup to <code>mkBRAMAdapter</code> (in <code>BRAM</code>)</p>
</li>
<li>
<p>Addition of <code>getEvalPosition</code> to <code>Prelude</code>, which can be used
similarly to <code>getStringPosition</code> to add position information to
function error messages when a <code>String</code> argument is not available</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_verilog_2">Verilog</h3>
<div class="ulist">
<ul>
<li>
<p>Improved portability of Verilator linking by removing <code>bash</code>-isms
from the shell script</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_internal_4">Internal</h3>
<div class="ulist">
<ul>
<li>
<p>Improvements to CI (continuous integration)</p>
</li>
<li>
<p>Releases now built with GHC 9.0.2 (previously 9.0.1)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_for_developers">For Developers</h3>
<div class="ulist">
<ul>
<li>
<p>Added support for using Haskell Language Server (HLS) on the BSC
source code, via files provided in the <code>util</code> directory</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2022_01_release">2022.01 Release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This release supports building and running on more systems, such as
CentOS 7.9, FreeBSD, Arm-based Macs, systems with Tcl 8.5, and macOS
when Tcl-Tk is installed via Homebrew.</p>
</div>
<div class="paragraph">
<p>This release also includes initial support for DPI instead of VPI (for
imported C functions) and support for automatic linking with Verilator
(using <code>-vsim verilator</code>).  Feedback on both of these features is
welcome!</p>
</div>
<div class="paragraph">
<p>Changes since release 2021.07:</p>
</div>
<div class="sect2">
<h3 id="_general_3">General</h3>
<div class="ulist">
<ul>
<li>
<p>Update the install instructions</p>
<div class="ulist">
<ul>
<li>
<p>Show how to use Bluetcl to programmatically retrieve the BSC version</p>
</li>
<li>
<p>Show how to use Cabal <code>v2-install</code></p>
</li>
<li>
<p>Show how to build a release without Asciidoctor</p>
</li>
</ul>
</div>
</li>
<li>
<p>Support building and running on more systems</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_documentation_5">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>Fix typos in the <code>MIMO</code> library documentation</p>
</li>
<li>
<p>Document new <code>-use-dpi</code> flag</p>
</li>
<li>
<p>Document Verilator as a new option for <code>-vsim</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_compiler_5">Compiler</h3>
<div class="ulist">
<ul>
<li>
<p>Support optional use of DPI instead of VPI, for imported C functions (BDPI)</p>
<div class="ulist">
<ul>
<li>
<p>This is draft support; feedback welcome!</p>
</li>
<li>
<p>Size-polymorphic import-BDPI functions are not yet supported</p>
</li>
<li>
<p>A new flag, <code>-use-dpi</code>, must be provided when compiling and linking</p>
</li>
</ul>
</div>
</li>
<li>
<p>Checkout the Yices submodule at an official tagged version, 2.6.4</p>
</li>
<li>
<p>Udpate the source to compile with GHC 9.2</p>
<div class="ulist">
<ul>
<li>
<p>Note that BSC triggers a bug in GHC 9.2.1 (#20639),
which has been fixed in 9.2.2</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_libraries_5">Libraries</h3>
<div class="ulist">
<ul>
<li>
<p>Fix the modules in the <code>Divide</code> library</p>
<div class="ulist">
<ul>
<li>
<p>Fix bug when iterations-per-cycle is greater than one</p>
</li>
<li>
<p>Fix scheduling issues at the interface</p>
</li>
<li>
<p>Improve the provisos</p>
</li>
</ul>
</div>
</li>
<li>
<p>Fix divide and square root modules in the <code>FloatingPoint</code> library,
to not require <code>-aggressive-conditions</code> flag for correct behavior</p>
</li>
<li>
<p>Fix <code>Prelude</code> function <code>hexDigitToInteger</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_bluesim_4">Bluesim</h3>
<div class="ulist">
<ul>
<li>
<p>Eliminate error on exit when running on systems with Tcl 8.5</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_verilog_3">Verilog</h3>
<div class="ulist">
<ul>
<li>
<p>Support automatic linking with Verilog, using <code>-vsim verilator</code></p>
<div class="ulist">
<ul>
<li>
<p>This is draft support; feedback welcome!</p>
</li>
<li>
<p>The <code>-use-dpi</code> flag is needed for designs with imported C,
since Verilator does not support our VPI implementation</p>
</li>
<li>
<p>Designs with generated clocks may not link; ultimately, BSC may
need a Verilator backend (separate from Verilog and Bluesim) to
support arbitrary designs</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2021_07_release">2021.07 Release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Welcome to the first release of open BSC!
Thank you and congratulations to everyone involved!</p>
</div>
<div class="paragraph">
<p>We have decided on the convention YYYY.MM for naming releases.
And we have decided on a release schedule of twice a year,
in January and July.  Therefore, this first release is 2021.07
and users can expect a next release, 2022.01, in six months.
Patch releases, if needed, will be named 2021.07.1, etc.</p>
</div>
<div class="paragraph">
<p>This release has some incompatibilities with prior proprietary
releases, but for the most part remains the same.  Hopefully
all projects using prior releases should find it accessible to
migrate to this open release.  But users should expect that
more incompatible changes may be coming in future releases.
Examples of changes to expect include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Renaming and reorganizing of directories in the release</p>
</li>
<li>
<p>Renaming of Verilog primitives
(for example, to start with a unique prefix such as <code>__BSC_</code>)</p>
</li>
<li>
<p>Renaming of preprocessor macros
(for example, changing the prefix <code>BSV_</code> to <code>BSC_</code>)</p>
</li>
<li>
<p>New preprocessor macros
(for example, rather than having Vivado-specific versions
of Verilog primitives in a separate directory, they may
coexist in one file and users may need to define a macro
such as <code>VIVADO</code>, to select for the target tool)</p>
</li>
<li>
<p>Use of newer Verilog features
(rather than restricting primitives and generated Verilog to
the Verilog95 standard as much as possible)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The changes in this release are highlighted below.
In addition, it is worth acknowledging the logistical and community
changes.  Most communication around open BSC happens on GitHub;
however, we also now have mailing lists, hosted at Groups.io.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To receive announcements about BSC and related projects,
subscribe to
<a href="https://groups.io/g/b-lang-announce">b-lang-announce</a></p>
</li>
<li>
<p>For questions and discussion about BSC source,
subscribe to the developers' mailing list
<a href="https://groups.io/g/bsc-dev">bsc-dev</a></p>
</li>
<li>
<p>For any questions or discussion about Bluespec HDLs, using BSC,
or related projects, subscribe to
<a href="https://groups.io/g/b-lang-discuss">b-lang-discuss</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Only the core BSC tools have been included in the open BSC project
(compiler, standard libraries, Bluesim, and Bluetcl).  Some libraries
have been released in a separate GitHub repository,
<a href="https://github.com/B-Lang-org/bsc-contrib"><code>bsc-contrib</code></a>.
And BDW, the Bluespec Development Workstation GUI, has been released
as its own GitHub project,
<a href="https://github.com/B-Lang-org/bdw"><code>bdw</code></a>.
Other features from the proprietary release (such as BlueNoC, SCE-MI,
and other emulation tools and transactor libraries) have not been
released.</p>
</div>
<div class="paragraph">
<p>Highlights since proprietary release 2019.05:</p>
</div>
<div class="sect2">
<h3 id="_licensing">Licensing</h3>
<div class="ulist">
<ul>
<li>
<p>FlexLM licensing has been removed from BSC and Bluesim, along with
related flags</p>
</li>
<li>
<p>Source is provided under the BSD-3-Clause license, except for some
components where specified (under other open/copyleft licenses)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_documentation_6">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>The documentation for standard libraries, that was previously found
in the BSV Language Manual, has been collected into a stand-alone
document, now residing in the <code>bsc</code> repo so that it can be updated
as the libraries are updated</p>
</li>
<li>
<p>BDW documentation has been removed from the User Guide and placed in
its own document in the <code>bdw</code> repo; the remainder of the User Guide
resides in the <code>bsc</code> repo where hopefully it can be updated
as features are updated</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_general_4">General</h3>
<div class="ulist">
<ul>
<li>
<p>Users no longer need to set <code>BLUESPECDIR</code>&#8201;&#8212;&#8201;the executables will
expect the directory to sit at a known location relative to the
executables</p>
</li>
<li>
<p>The locations for C++ libraries (SAT, VPI, Bluesim) are no longer
under a CXXFAMILY directory (for example, <code>g++4_64</code>)</p>
</li>
<li>
<p>Version information no longer includes a date, just a build number
(usually a git hash) and a version name (now reported as a single
string instead of three separate fields)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_compiler_6">Compiler</h3>
<div class="ulist">
<ul>
<li>
<p>Removed unnecessary library requirements (X11, Tcl/Tk)</p>
<div class="ulist">
<ul>
<li>
<p>Previously, the BSC executable required dynamic linking
with Tcl, Tk, and X11 libraries&#8201;&#8212;&#8201;which were legitimately
needed for Bluetcl and Bluewish, but not for BSC</p>
</li>
</ul>
</div>
</li>
<li>
<p>Removed <code>Prelude</code> directory and consolidated all the libraries into
the <code>Libraries</code> directory</p>
</li>
<li>
<p>Flags and special support for BlueNoC/SCE-MI have been removed</p>
</li>
<li>
<p>New flags <code>-show-timestamps</code> and <code>-show-version</code></p>
</li>
<li>
<p>New flag <code>-quiet</code> and its short form <code>-q</code></p>
</li>
<li>
<p>Yices is now the default SMT solver and the library is now included</p>
<div class="ulist">
<ul>
<li>
<p>Support is updated to the latest version (2.6.2)</p>
</li>
<li>
<p>Bugs have been fixed in BSC&#8217;s use of Yices</p>
</li>
</ul>
</div>
</li>
<li>
<p>Support for CUDD solver removed, along with associated flags for
scheduler effort and BDD cache size</p>
</li>
<li>
<p>Better code generation for tagged unions and for enums that are
non-consecutive or non-zero-based</p>
<div class="ulist">
<ul>
<li>
<p>Pack-unpack of types results in pure wires in more cases</p>
</li>
<li>
<p>More optimized code should occur in other situations, with fewer
unnecessary case-statements</p>
</li>
</ul>
</div>
</li>
<li>
<p>Improved the handling of struct/union fields (in patterns,
selection, and value construction)</p>
<div class="ulist">
<ul>
<li>
<p>The BSV parser now accepts a pattern syntax for matching structs</p>
</li>
<li>
<p>BSV syntax for struct vs tagged union can no longer be used
interchangeably (users may need to add or remove the <code>tagged</code>
keyword in existing code); this also means that clash between
namespaces is no longer a problem</p>
</li>
<li>
<p>BH/Classic still uses the same syntax for both structs and
constructors with named fields, so the type checker still
uses heuristics to decide which is intended&#8201;&#8212;&#8201;this process
has been improved</p>
</li>
<li>
<p>Parsing/type-checking is now more strict about when named
vs unnamed fields can be used</p>
</li>
<li>
<p>Empty braces (without any listed fields) are disallowed in
BSV syntax in situations where this does not make sense</p>
</li>
</ul>
</div>
</li>
<li>
<p>Record updates are now allowed on interfaces</p>
</li>
<li>
<p>In BH/Classic, <code>prefix</code> is no longer a reserved keyword, and is now
supported as an alternate to <code>prefixs</code> port renaming pragma</p>
</li>
<li>
<p>Type-level strings are now supported, as a new string kind
(alongside numeric and star kinds)</p>
<div class="ulist">
<ul>
<li>
<p>The pseudo-function <code>stringOf</code> exists for converting a string
type to a string value (along the lines of <code>valueOf</code> for
numeric types)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Fixed some <code>combsched</code> internal errors in scheduling</p>
</li>
<li>
<p>Fixed an internal error on mutually recursive type class instances</p>
</li>
<li>
<p>Fixed an issue where parallel calls to BSC would conflict if they
used the C preprocessor, because it created a temporary file with a
hard-coded name (fixed to use a unique name now)</p>
</li>
<li>
<p>Fixed a bug in static evaluation of SLE/SLT on 0-width values</p>
</li>
<li>
<p>Other efficiency improvements, error message improvements, and bug fixes</p>
<div class="ulist">
<ul>
<li>
<p>Releases are also built with newer GHC versions, which ought to
improve performance</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_libraries_6">Libraries</h3>
<div class="ulist">
<ul>
<li>
<p>Experimental support in the Prelude for datatype-generic functions,
based on GHC&#8217;s Generics:
<a href="https://hackage.haskell.org/package/base/docs/GHC-Generics.html" class="bare">https://hackage.haskell.org/package/base/docs/GHC-Generics.html</a></p>
</li>
<li>
<p>New <code>CShow</code> library (implemented with Generics), which provides a
<code>CShow</code> typeclass that acts similar to <code>FShow</code> but prints values in
BH/Classic syntax</p>
</li>
<li>
<p>An instance of <code>FShow</code> is derived for <code>Either</code></p>
</li>
<li>
<p>The <code>DefaultValue</code> typeclass is now in <code>Prelude</code>, so it is
automatically available and does not require importing a separate
package</p>
</li>
<li>
<p>The <code>guarded</code> parameter on FIFO primitives was fixed to be of type
<code>Bool</code> rather than <code>Integer</code></p>
</li>
<li>
<p>Fix to <code>SquareRoot</code> library</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_bluetcl_3">Bluetcl</h3>
<div class="ulist">
<ul>
<li>
<p>The executable links with the locally installed Tcl/Tk and Itlk/Itk
(rather than being compiled with source snapshots for specific
versions) which also means that any locally installed Tcl libraries
are available for use in Bluetcl</p>
</li>
<li>
<p>The separate <code>bluewish</code> executable has been removed&#8201;&#8212;&#8201;now that
local libraries are used, Bluetcl users can <code>require</code> the local Tk
package, to pull in Tk/X11 support</p>
</li>
<li>
<p>Removed unnecessary library requirements (X11, Tk)</p>
<div class="ulist">
<ul>
<li>
<p>Bluetcl can be run on systems where Tk/X11 is not available,
as long as the Bluetcl commands don&#8217;t request it</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>TCLLIBPATH</code> and <code>BLUETCLLIBPATH</code> environment variables are
supported, for listing directories to add to the search path for
packages</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_bluesim_5">Bluesim</h3>
<div class="ulist">
<ul>
<li>
<p>Fixed code generation for conditionally called ActionValue
methods/tasks</p>
</li>
<li>
<p>Improved a scaling issue in Bluesim linking</p>
</li>
<li>
<p>Handles <code>SIGPIPE</code> the same as Ctrl-C</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_verilog_4">Verilog</h3>
<div class="ulist">
<ul>
<li>
<p>Fixed typos in the Quartus versions of the Verilog primitives for
BRAMs</p>
</li>
<li>
<p>Fixed BSC linking for Icarus Verilog, so that the Verilog search
path is also used for finding preprocessor include files</p>
</li>
<li>
<p>BSC linking now supported for Questa (using <code>-vsim questa</code>)</p>
</li>
<li>
<p>BSC linking for ModelSim updated to remove deprecated flag</p>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
</div>
</body>
</html>