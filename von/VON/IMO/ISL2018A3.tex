desc: Sum of reciprocals of subsets injective and surjective
source: ISL 2018 A3
tags: [2020-03, oly, easy, alg, nice, waltz]

---

Given any set $S$ of positive integers, show that at least one of the following two assertions holds:
\begin{enumerate}[label=(\roman*)]
    \item There exist distinct finite subsets $F$ and $G$ of $S$ such that $\sum_{x\in F}1/x=\sum_{x\in G}1/x$;
    \item There exists a positive rational number $r<1$ such that $\sum_{x\in F}1/x\neq r$ for all finite subsets $F$ of $S$.
\end{enumerate}

---

Assume for contradiction both fail. Then for each $r<1$ there is a unique finite subset $R(r)$ of $S$ such that $\textstyle\sum_{x\in F}1/x=r$.
\begin{claim*}
    There are no two elements $a,b\in S$ with $a<b<2a$.
\end{claim*}
\begin{proof}
    Let $a,b\in S$ with $a<b$, so that $R(1/a)=1/a$ and $R(1/b)=1/b$. Note that if \[\frac1b\notin R\left(\frac1a-\frac1b\right),\]
    then $R(1/a-1/b)\cup\{1/b\}$ is another way to represent $1/a$, contradiction. Hence \[\frac1a-\frac1b\ge\frac1b\implies b\ge2a,\]
    as claimed.
\end{proof}

Now if $S$ is finite, then (ii) clearly holds, and if $1\in S$, we may delete it since it is not $R(r)$ for all $r<1$. Thus we have \[\sum_{x\in S}\frac1x\le\frac12+\frac14+\frac18+\cdots=1,\]
where equality holds if and only if $S=\{2,4,8,\ldots\}$. If equality fails, then some $r<1$ cannot be represented, but if $S=\{2,4,8,\ldots\}$, then it is impossible to represent $1/3$, the end.
