desc: Tasty and Stacy's necklace
source: USA TST 2019/5
tags: [2019-12, oly, tricky, combo, induction]

---

Let $n$ be a positive integer. Tasty and Stacy are given a circular necklace with $3n$ sapphire beads and $3n$ turquoise beads, such that no three consecutive beads have the same color. They play a cooperative game where they alternate turns removing three consecutive beads, subject to the following conditions:
\begin{itemize}
    \item Tasty must remove three consecutive beads which are turquoise, sapphire, and turquoise, in that order, on each of his turns.
    \item Stacy must remove three consecutive beads which are sapphire, turquoise, and sapphire, in that order, on each of her turns.
\end{itemize}
They win if all the beads are removed in $2n$ turns. Prove that if they can win with Tasty going first, they can also win with Stacy going first.

---

Say that if two consecutve beads are the same color, there is a \emph{divider} between them. Dividers divide the necklace into \emph{sections} (so the number of dividers equals the number of sections).
\begin{claim*}
    If there are $3n$ T's and $3n$ S's, then the game can be won, with either player going first, if and only if there are at most $2n$ beads.
\end{claim*}
Note that by symmetry, the claim finishes the problem, so it suffices to prove the claim. Without loss of generality Tasty goes first. We proceed by induction. The base case, $n=1$ is easy: the game can be won so long as ``TST'' exists.

Remark that removing a ``TST'' or ``STS'' adjacent to a divider decreases the divider count by exactly 1, and increases it by exactly one otherwise.

Note that if there are more than $2n$ beads, since each move eliminates at most one divider, the game cannot be won, so it suffices to show it can be won if there are at most $2n$ beads.

Assume the hypothesis for $n-1$. Note that the number of odd-length sections (of length at least $3$, by the problem statement) with endpoints ``T'' and odd-length sections with endpoints ``S'' are equal, since the number of T's and S's are equal. Thus if at least one of each of the aforementioned sections exist, Tasty removes a ``TST'' from the one with endpoints ``T'' and Stacy removes a ``STS'' from the one with endpoints ``S.''

Otherwise all sections have even length. By Pigeonhole there is at least one section with length $\ge4$, so Tasty removes ``TST'' from the end with endpoint ``T.'' After this, it has odd length and endpoints ``S,'' so Stacy removes an ``STS.'' This completes the proof.
