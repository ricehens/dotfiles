desc: Substitution just works
source: USAMO 2015/1
tags: [2019-10, oly, medium, nt, diophantine]

---

Solve in integers the equation \[x^2+xy+y^2=\left(\frac{x+y}3+1\right)^3.\]

---

The answer is \[\boxed{(k^3-3k+1,-k^3+3k^2-1)}\;\forall k\in\mathbb Z,\]
and permutations.

Let $a=x+y$ and $b=x-y$. Since $a^2=x^2+y^2+2xy$ and $b^2=x^2+y^2-2xy$, \[\frac{3a^2+b^2}4=x^2+y^2+xy=\left(\frac{x+y}3+1\right)^3=\left(\frac a3+1\right)^3.\]
Hence, $3\mid a$, so let $c=\tfrac a3$. It follows that \[b^2=4(c+1)^3-27c^2=4c^3-15c^2+12c+4=(c-2)^2(4c+1),\]
so $4c+1$ is an odd perfect square; let $(2k-1)^2=4c+1$. Then $c=k^2-k$ and $\pm b=2k^3-3k^2-3k+2$. Solving, \[\{x,y\}=\{k^3-3k+1,-k^3+3k^2-1\},\]
which work.
