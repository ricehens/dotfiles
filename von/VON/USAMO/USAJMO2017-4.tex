desc: Disgusting finish diophantine
source: USAJMO 2017/4
tags: [2019-10, oly, hard, nt, diophantine]

---

Are there any triples $(a,b,c)$ of positive integers such that $(a-2)(b-2)(c-2)+12$ is a prime number that properly divides the positive number $a^2+b^2+c^2+abc-2017$?

---

The answer is no. Notice that
\begin{align*}
    &\left(a^2+b^2+c^2+abc-2017\right)-\big((a-2)(b-2)(c-2)+12\big)\\
    &=(a+b+c)^2-4(a+b+c)-2021\\
    &=(a+b+c-2)^2-45^2\\
    &=(a+b+c-47)(a+b+c+43).
\end{align*}
Since $(a-2)(b-2)(c-2)+12$ properly divides $a^2+b^2+c^2+abc-2017$, \[\frac{(a+b+c-47)(a+b+c+43)}{(a-2)(b-2)(c-2)+12}\in\mathbb Z^+.\]
Let $x=a-2$, $y=b-2$, $z=c-2$. We then have \[\frac{(x+y+z-41)(x+y+z+49)}{xyz+12}\in\mathbb Z^+.\]
It follows that $x+y+z>41$. Since $xyz+12$ is prime, $xyz+12$ divides one of $x+y+z-41$ and $x+y+z+49$. Clearly, $0\notin\{x,y,z\}$, since otherwise $xyz+12=12$ is not prime. If $-1\in\{x,y,z\}$, and exactly one is $-1$, assume WLOG that $x=-1$. We do casework on $xyz+12$:
\begin{itemize}[itemsep=0em]
    \item $xyz+12=2$. Then, $\{y,z\}=\{1,10\}$ or $\{2,5\}$, which fail.
    \item $xyz+12=3$. Then, $\{y,z\}=\{1,9\}$ or $(y,z)=(3,3)$, which fail.
    \item $xyz+12=5$. Then, $\{y,z\}=\{1,7\}$, which fails.
    \item $xyz+12=7$. Then, $\{y,z\}=\{1,5\}$, which fails.
    \item $xyz+12=11$. Then, $(y,z)=(1,1)$, which fails.
\end{itemize}
Obviously $x=y=z=-1$ fails to satisfy $x+y+z>41$, and if $x=y=-1$ and $z>0$, then, $z+12$ divides $(z-43)(z+47)$. Since $z+12$ is prime and $z+12>z-43$, $z+12\mid z+47$. However, this implies $z+12\mid 35$. Since $z+12>12$ and is prime, no such $z$ works.

Hence, $x,y,z>0$. Note that since $(y-1)(z-1)>-51$, \[x\ge 1>\frac{y+z-53}{yz-1}\implies  xyz+12>x+y+z-41.\]
It follows that $xyz+12\mid x+y+z+49$. We claim that $xyz+12=x+y+z+49$. Assume FSoC otherwise. Then, \[2xyz+24\le x+y+z+49\le xyz+51\implies xyz\le 27.\]
However, \[51<x+y+z+10\le xyz+12\le 39,\]
a contradiction. As a result, $xyz+12=x+y+z+49$. For $xyz+12$ to be prime, $x,y,z$ must be odd; however, this forces $ x+y+z=49$ to be even, a contradiction, so no solutions exist, and we are done.
