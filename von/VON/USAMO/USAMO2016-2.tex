desc: Hook-length formula
source: USAMO 2016/2
tags: [2019-10, oly, tricky, nt, ineq, vp]

---

Prove that for any positive integer $k$, \[(k^2)!\cdot\prod_{j=0}^{k-1}\frac{j!}{(j+k)!}\]
is an integer.

---

The key lemma is this:
\begin{lemma*}
    For all $k$ and $n$, \[\sum_{j=0}^{k-1}\left(\left\lfloor\frac{j+k}n\right\rfloor-\left\lfloor\frac jn\right\rfloor\right)\le\left\lfloor\frac{k^2}n\right\rfloor.\]
\end{lemma*}
\begin{proof}
    Rewrite this as \[\left\lfloor\frac{k^2}n\right\rfloor+\sum_{j=0}^{k-1}\left\lfloor\frac jn\right\rfloor>-1+\sum_{j=0}^{k-1}\left\lfloor\frac{j+k}n\right\rfloor.\]
    Noting that equality holds if we erase the floor symbols, we rewrite the inequality using the fractional part: Denote $\{x\}=x-\lfloor x\rfloor$ to obtain \[\left\{\frac{k^2}n\right\}+\sum_{j=0}^{k-1}\left\{\frac jn\right\}<1+\sum_{j=0}^{k-1}\left\{\frac{j+k}n\right\}.\]
This obviously holds, as $\{k^2/n\}<1$ and the sum of the remainders of $0,1,\ldots,k-1$ upon division by $n$ cannot exceed the sum of the remainders of $k,k+1,\ldots,2k-1$ (since the former is the smallest possible sum of $k$ consecutive remainders modulo $n$).
\end{proof}

By Legendre's Formula, for all primes $p$, \[\nu_p\left(\prod_{j=0}^{k-1}\frac{(j+k)!}{j!}\right)=\sum_{t=1}^\infty\left(\sum_{j=0}^{k-1}\left(\left\lfloor\frac{j+k}{p^t}\right\rfloor-\left\lfloor\frac j{p^t}\right\rfloor\right)\right)\le\sum_{t=1}^\infty\left\lfloor\frac{k^2}{p^t}\right\rfloor=\nu_p\Big((k^2)!\Big).\]
This completes the proof.
